@model AdminCRM.Model.Models.Sections.AboutSection
@{
    ViewBag.Title = "Update";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    var filename = ViewBag.filename;
}

<div class="page-title-box">
    <div class="container-fluid">
        <div class="row align-items-center">
            <div class="col-md-8">
                <h4 class="page-title mb-1">About Section</h4>
                <ol class="breadcrumb m-0">
                    <li class="breadcrumb-item"><a href="@Url.Action("Index")">About Section</a></li>
                    <li class="breadcrumb-item active">Update About Section</li>
                </ol>
            </div>
        </div>

    </div>
</div>

<div class="page-content-wrapper">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-body">
                        <div class="float-right ml-2">
                            <a class="btn btn-sm btn-warning btn-flat margin" href="@Url.Action("Index")">Back to List</a>
                        </div>
                        <h4 class="header-title">about section update Form</h4>
                        <p class="card-title-desc"></p>
                        @using (Html.BeginForm("Edit", "About", FormMethod.Post, new { @class = "needs-validation", novalidate = "novalidate", @autocomplete = "off", @enctype = "multipart/form-data" }))
                        {
                            @Html.AntiForgeryToken()
                            @Html.HiddenFor(model => model.Id)
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <label for="validationCustom03">Top title</label>
                                    @Html.TextBoxFor(m => m.TopTitle, new { @id = "validationCustom03", @class = "form-control", @placeholder = "Enter top title", @maxLength = "50", @required = "required" })
                                    <div class="invalid-feedback">
                                        Please enter a title!
                                    </div>
                                </div>
                                <div class="col-md-8 mb-3">
                                    <label for="validationCustom03">Main Title</label>
                                    @Html.TextBoxFor(m => m.MainTitle, new { @id = "validationCustom03", @class = "form-control", @placeholder = "Enter main title", @maxLength = "80", @required = "required" })
                                    <div class="invalid-feedback">
                                        Please enter a main title!
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-8 mb-3">
                                    <label for="validationCustom03">Description</label>
                                    @Html.TextAreaFor(m => m.Description, new { @id = "validationCustom03", @class = "form-control", @placeholder = "Enter description", @maxLength = "250", @required = "required", @rows = "5" })
                                    <div class="invalid-feedback">
                                        Please enter a description!
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-8 mb-3">
                                    <label for="validationCustom03">First List title</label>
                                    @Html.TextBoxFor(m => m.ListOneTitle, new { @id = "validationCustom03", @class = "form-control", @placeholder = "Enter list title", @maxLength = "80", @required = "required" })
                                    <div class="invalid-feedback">
                                        Please enter a title!
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label for="validationCustom03">First List Icon</label>
                                    @Html.TextBoxFor(m => m.ListOneIcon, new { @id = "validationCustom03", @class = "form-control", @placeholder = "Ex: recycle", @maxLength = "20", @required = "required" })
                                    <div class="invalid-feedback">
                                        Please enter a icon name!
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-8 mb-3">
                                    <label for="validationCustom03">First List Description</label>
                                    @Html.TextAreaFor(m => m.ListOneDescription, new { @id = "validationCustom03", @class = "form-control", @placeholder = "Enter description", @maxLength = "150", @required = "required", @rows = "3" })
                                    <div class="invalid-feedback">
                                        Please enter a description!
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-8 mb-3">
                                    <label for="validationCustom03">Second List title</label>
                                    @Html.TextBoxFor(m => m.ListSecondTitle, new { @id = "validationCustom03", @class = "form-control", @placeholder = "Enter list title", @maxLength = "80", @required = "required" })
                                    <div class="invalid-feedback">
                                        Please enter a title!
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label for="validationCustom03">Second List Icon</label>
                                    @Html.TextBoxFor(m => m.ListSecondIcon, new { @id = "validationCustom03", @class = "form-control", @placeholder = "Ex: tags", @maxLength = "20", @required = "required" })
                                    <div class="invalid-feedback">
                                        Please enter a icon name!
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-8 mb-3">
                                    <label for="validationCustom03">Second List Description</label>
                                    @Html.TextAreaFor(m => m.ListSecondDescription, new { @id = "validationCustom03", @class = "form-control", @placeholder = "Enter description", @maxLength = "150", @required = "required", @rows = "3" })
                                    <div class="invalid-feedback">
                                        Please enter a description!
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label for="validationCustom03">Button Text</label>
                                    @Html.TextBoxFor(m => m.ButtonText, new { @id = "validationCustom03", @class = "form-control", @placeholder = "Ex: About More", @maxLength = "20", @required = "required" })
                                    <div class="invalid-feedback">
                                        Please enter a button text!
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="validationCustom03">Image</label>
                                    <input type="file" name="file" id="imgInp" value="" class="form-control" required accept="image/x-png,image/gif,image/jpeg" />
                                    <div class="invalid-feedback">
                                        Please select an image!
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    @if (!String.IsNullOrEmpty(Model.ImagePath))
                                    {
                                        <img style="max-width:100%; max-height: 250px" id="blah" src="@Url.Content(Model.ImagePath)" alt="your image" />
                                    }
                                    else
                                    {
                                        <img style="max-width:100%" id="blah" src="#" alt="your image" />
                                    }

                                </div>
                            </div>
                            <button class="btn btn-primary" type="submit">Update Data</button>

                        }
                    </div>
                </div>
            </div>
        </div>
        <!-- end row -->

    </div> <!-- container-fluid -->
</div>

@section Scripts {

    <script type="text/javascript">
        $(document).ready(function () {
            $("#imgInp").change(function () {
                readURL(this);
            });


            function readURL(input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();

                    reader.onload = function (e) {
                        $('#blah').attr('src', e.target.result);
                    }

                    reader.readAsDataURL(input.files[0]);
                }
            }
        });
    </script>



} 